<%- # local params:
    # label
    # value
    # options =>
    #   :remove => url for a remove constraint link
    #   :classes => array of classes to add to container span
    options ||= {}
    options[:escape_label] = true unless options.has_key?(:escape_label)
    options[:escape_value] = true unless options.has_key?(:escape_value)

    # use "label = val" for advanced search params
    advanced_val = search_fields_for_advanced_search.values.map(&:label).include?(label)
    display_value = advanced_val ? "#{label} = " : ''
    display_value += options[:escape_value] ? h(value) : raw(value)
-%>

<li>
  <span class="search_mini_icon"></span>
  <%= display_value %>
  <%= link_to("x", options[:remove], class: "remove") %>
</li>

