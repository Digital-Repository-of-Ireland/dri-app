<div class="dri_report_container">
<h3><%= "#{t('dri.reports.headings.access_controls')}: #{@title}" %></h3>

<div class="fuelux">
	<ul class="tree tree-folder-select" role="tree" id="collectionPermissionsSelectable">
	  <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
	    <div class="tree-branch-header">
	      <button type="button" class="glyphicon icon-caret glyphicon-play"><span class="sr-only">Open</span></button>
	      <button type="button" class="tree-branch-name">
	        <span class="glyphicon icon-folder glyphicon-folder-close"></span>
	        <span class="tree-label"></span>
	      </button>
	    </div>
	    <ul class="tree-branch-children" role="group"></ul>
	    <div class="tree-loader" role="alert">Loading...</div>
	  </li>
	  <li class="tree-item hide" data-template="treeitem" role="treeitem">
	    <button type="button" class="tree-item-name">
	      <span class="glyphicon icon-item fueluxicon-bullet"></span>
	      <span class="tree-label"></span>
	    </button>
	  </li>
	</ul>
</div>

<script>
  var collections = JSON.parse('<%= raw escape_javascript(@access_controls.to_json) %>');
  var collectionDataSource = new StaticTreeDataSource(collections, false);

  $('#collectionPermissionsSelectable').tree({
    dataSource: collectionDataSource.getData,
    cacheItems: true,
    folderSelect: false,
    itemSelect: false,
    multiSelect: false
  });
</script>

</div>
